# ApplyMate (求职伙伴)

- **版本**: 1.4
- **最后更新**: 2025年7月9日

## 1. 项目概述

### 1.1 项目目标

为了解决求职者在面试过程中信息繁杂、进度混乱、Offer 对比不直观等问题，本项目旨在开发一个个人面试管理系统。该系统将帮助用户高效地记录、跟踪和管理从投递到 Offer 的整个求职流程，并通过智能数据填充和可视化分析功能，辅助用户做出更优的职业决策。

### 1.2 核心用户

主要面向正在积极求职的个人，如软件工程师、产品经理、设计师等互联网从业者，以及任何需要同时管理多个求职机会的个体。

### 1.3 核心功能亮点

- **全流程跟踪**: 管理从投递到 Offer 的每一个环节和轮次。
- **智能信息填充**: 输入公司名时，自动从网络检索并填充公司详情。
- **薪资对比分析**: 直观地通过图表对比不同 Offer 的薪资包。
- **渠道效率分析**: 评估不同投递渠道的成功率。
- **数据自由**: 支持历史数据的导入和导出，方便备份与迁移。
- **Offer决策辅助**: 通过对比多个潜在 Offer，模拟和规划年度总收入，辅助用户进行选择。

### 1.4 技术栈选型

- **前端框架**: Vue 3 (使用 Composition API 以更好地组织逻辑和利用 TypeScript)
- **开发语言**: TypeScript
- **UI 框架**: Element Plus (提供丰富、高质量的 Vue 3 组件)
- **状态管理**: Pinia (Vue 官方推荐的下一代状态管理库)
- **路由**: Vue Router
- **图表库**: ECharts (用于数据可视化)
- **HTTP 请求**: Axios
- **第三方数据服务**: Clearbit (用于公司信息填充，提供免费套餐) 或 天眼查 (国内数据更精准，需付费)

## 2. 核心概念与数据模型 (Data Models)

为了清晰地组织信息，我们定义以下几个核心数据模型。

### 2.1 Company (公司信息)

```typescript
interface Company {
  id: string; // 唯一ID
  name: string; // 公司名称
  industry?: string; // 所属行业
  scale?: string; // 公司规模, 如 "100-500人"
  website?: string; // 公司官网
  logoUrl?: string; // 公司 Logo 的 URL
}
```

### 2.2 InterviewProcess (面试流程)

这是系统的核心模型，代表一次完整的求职申请流程。

```typescript
interface InterviewProcess {
  id: string; // 唯一ID, e.g., UUID
  companyId: string; // 关联的公司ID
  position: string; // 投递的岗位，如 "前端开发工程师"
  city: string; // 工作城市
  status: '投递中' | '评估中' | '面试中' | '已发Offer' | '已拒绝' | '已结束'; // 当前总体状态
  conclusion: '未开始' | '进行中' | '通过' | '未通过' | '待定'; // 当前最终结论
  sourceChannel: string; // 邀约/投递渠道，如 "Boss直聘", "内推", "LinkedIn"
  expectedSalary: { min: number; max: number }; // 期望薪资范围
  offeredSalary?: { // 如果有Offer，记录薪资详情
    base: number;
    bonus: number;
    options: string; // 期权信息
    total: number; // 年度总包
  };
  createTime: Date; // 创建时间
  updateTime: Date; // 最后更新时间
  remarks?: string; // 备注
}
```

### 2.3 InterviewRound (面试轮次)

每个 InterviewProcess 可以包含多个 InterviewRound。

```typescript
interface InterviewRound {
  id: string; // 唯一ID
  processId: string; // 关联的面试流程ID
  roundName: string; // 轮次名称，如 "HR面", "技术一面", "总监面"
  scheduledTime: Date; // 安排的面试时间
  status: '待安排' | '已安排' | '已完成' | '已取消'; // 轮次状态
  interviewer?: string; // 面试官姓名/职位
  feedback?: string; // 面试反馈记录
}
```

### 2.4 UserProfile (用户配置)

这是一个新的数据模型，用于存储用户的个人化配置信息。

```typescript
interface UserProfile {
  id: string; // 关联的用户ID
  currentMonthlySalary?: number; // 用户当前的税前月薪，用于年度收入模拟
}
```

## 3. 功能模块设计

### 3.1 仪表盘 (Dashboard)

- **功能**: 系统首页，提供关键信息概览。
- **视图**:
  - 统计卡片: 显示 "进行中的面试"、"待安排的面试"、"已收到 Offer" 的数量。
  - 近期面试日历: 以日历或列表形式展示未来7天内已安排的面试。
  - Offer 薪资对比图: 柱状图快速对比已收到 Offer 的年度总包。

### 3.2 面试管理 (Interview Management)

- **功能**: 核心模块，用于管理所有的 InterviewProcess。
- **视图**:
  - **流程列表页**:
    - 使用表格展示所有面试流程，包含公司Logo、岗位、状态、结论、渠道、更新时间等。
    - 提供按公司、岗位、状态的搜索和筛选功能。
    - 设有 "新建面试流程" 的入口按钮。
  - **流程详情页**:
    - 顶部展示该流程的核心信息。
    - 以时间线的形式展示所有关联的 InterviewRound，并支持对轮次进行增删改查。

### 3.3 公司库 (Company Hub)

- **功能**: 统一管理和复用公司信息。
- **视图**:
  - 公司列表页: 表格展示所有已保存的公司信息。
  - 新建/编辑: 通过弹窗或新页面创建和编辑公司信息。此处的公司名称输入框将集成智能填充功能。

### 3.4 统计分析 (Analysis)

- **功能**: 提供更深入的数据可视化分析。
- **视图**:
  - **薪资对比分析**: 更详细的薪资对比图表，可按岗位、城市筛选，并提供薪资构成（Base, Bonus）的饼图分析。
  - **渠道效率分析**: 使用饼图或条形图分析不同 sourceChannel 的成功率和面试机会数量。
  - **Offer 对比与年度收入规划器** (功能升级):
    - **目标**: 帮助用户在多个潜在 Offer 之间进行权衡，通过量化比较年度总收入的变化，辅助做出最佳选择。
    - **交互**:
      1. 输入当前信息: 用户输入 "当前税前月薪"。
      2. 选择对比 Offer: 使用多选框列表，让用户从所有"已发Offer"的流程中，勾选任意数量的 Offer 进行对比。
      3. 设定交接日期: 提供一个**统一的"预计交接日期"**选择器。此日期将作为计算新旧工作收入分割点。
      4. (可选) 添加虚拟 Offer: 提供一个"添加虚拟对比项"功能，允许用户手动输入一个假设的 Offer（如公司名、年包总额）加入对比。
    - **输出**:
      - **对比分析表格**:
        - 行: 当前状况、Offer A、Offer B...
        - 列: 公司、年度总包、预估年度总收入、月均提升、涨幅(%)。
      - **可视化图表**:
        - 使用分组堆叠柱状图进行可视化。
        - 每个分组代表一个选择（如 Offer A），组内包含两个堆叠的柱子，分别代表"旧工作年内收入"和"新工作年内收入"。
        - 柱子的总高度直观地反映了该选择下的年度总收入，便于快速比较。

### 3.5 数据管理 (Data Management)

- **功能**: 实现数据的导入与导出。
- **入口**: 通常位于 "设置" 页面。
- **导出**:
  - 一键将系统内所有数据（公司、流程、轮次、用户配置）打包成一个 .json 文件下载。
  - 导出的文件包含版本号和导出日期，便于管理。
- **导入**:
  - 提供文件上传控件，并附带 "下载导入模板" 功能。
  - 读取 .json 文件后，进行数据校验。
  - 向用户提供冲突处理策略（跳过/覆盖）并显示预览。
  - 完成后给出明确的成功/失败反馈。

## 4. 特色功能详解：公司信息智能填充

### 4.1 目标

在用户输入公司名称时，实时从网络检索信息，自动填充公司行业、规模、官网、Logo等字段，提升效率和数据准确性。

### 4.2 实现流程

#### 1. 前端交互:
- 在公司名称输入框使用自动完成 (Autocomplete) 组件。
- 对用户输入进行防抖 (Debounce) 处理。
- 当用户输入时，向后端代理API发送请求。
- 下拉列表展示匹配的公司建议（含Logo）。
- 用户选择后，自动填充表单相关字段。

#### 2. 后端代理 (必需):
- 创建一个后端端点 (e.g., `/api/company-search`) 来接收前端请求。
- 此端点负责:
  - 安全地附加第三方服务的 API Key。
  - 向第三方API (如 Clearbit) 发起请求。
  - 处理跨域问题 (CORS)。
  - 对返回数据进行清洗和格式化，再传回给前端。
- **安全性**: API Key 必须作为环境变量存储在后端，绝不能暴露在前端代码中。

## 5. 页面/视图结构 (Routes)

- `/dashboard`: 仪表盘
- `/interviews`: 面试流程列表
- `/interviews/new`: 新建面试流程表单
- `/interviews/:id`: 面试流程详情
- `/companies`: 公司库列表
- `/analysis`: 统计分析页面 (包含 Offer 对比与年度收入规划器)
- `/settings`: 设置页面 (包含数据导入/导出功能和用户配置项)

## 6. 非功能性需求

- **数据持久化**:
  - **方案A (本地优先)**: 使用浏览器的 IndexedDB 进行数据存储。无需后端，部署简单，适合纯个人使用。
  - **方案B (云同步)**: 搭建一个简单的后端服务 (如 Node.js + Express/NestJS)，通过 API 进行数据交互。可实现数据云端同步和多设备访问。智能填充功能需要一个轻量级后端代理，因此方案B是更完整的选择。
- **响应式设计**: 界面应能良好地适应桌面和移动端浏览器。
- **用户体验**: 交互流畅，加载状态明确，表单校验友好，操作反馈及时。

## 7. 开发与部署规划

### 7.1 开发阶段

- **第一阶段 (核心CRUD)**:
  1. 搭建 Vue + TS 项目框架，定义数据模型。
  2. 实现面试管理和公司库的本地 CRUD 功能。
  3. 完成本地数据持久化 (IndexedDB)。

- **第二阶段 (核心功能完善)**:
  1. 开发仪表盘和统计分析页面，集成 ECharts 图表。
  2. 实现数据导入/导出功能。
  3. 开发 Offer 对比与年度收入规划器功能。

- **第三阶段 (智能功能与优化)**:
  1. 搭建后端代理服务。
  2. 实现公司信息智能填充功能。
  3. UI/UX 细节打磨和响应式布局优化。

- **第四阶段 (部署与维护)**:
  1. 编写使用文档。
  2. 将前端部署到 Vercel/Netlify，后端部署到 Railway/Heroku 等平台。

### 7.2 部署

- **前端**: 静态文件，可部署在任何静态网站托管平台。
- **后端代理**: 轻量级 Node.js 服务，可部署在各类 Serverless 或 PaaS 平台。